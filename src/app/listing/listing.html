<div class="container">
  <div class="d-grid d-md-flex justify-content-md-end mt-5">
    <button type="button" class="btn btn-primary" [routerLink]="['/create']">Add a new todo</button>
  </div>
  <table class="table table-bordered border-primary mt-3">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Title</th>
        <th scope="col">Description</th>
        <th scope="col">Status</th>
        <th scope="col">Last Updated</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      @for (todo of listAll(); track todo.id; let i = $index) {
        <tr>
          <th scope="row">
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                id="updateStatus"
                [checked]="todo.status === 'Completed'"
                (change)="completeTodo(todo, $event)"
              />
            </div>
          </th>
          <td>{{ todo.title }}</td>
          <td>{{ todo.body }}</td>
          <td>{{ todo.status }}</td>
          <td>{{ todo.updatedAt | date: 'dd/MM/yyyy' }}</td>
          <td class="text-center">
            <button
              type="button"
              id="deleteButton"
              class="btn btn-link p-0 text-danger delete-btn"
              (click)="deleteFromList(todo.id)"
            >
              <i class="bi bi-x-circle-fill"></i>
            </button>
            <button
              type="button"
              id="editButton"
              class="btn btn-link p-0 delete-btn"
              [routerLink]="['/edit', todo.id]"
            >
              <i class="bi bi-pencil-square"></i>
            </button>
          </td>
        </tr>
      }
    </tbody>
  </table>
</div>
